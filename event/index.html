<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Event bubbling, event capturing, event delegation</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
</head>

<body>
  <!-- 
  Event bubbling：點擊 button 後，除了觸發 button(event target) 本身的 event handler，
  也會觸發 parent 的 event handler，然後 parent's parent 的 event handler，不斷往上傳遞
  -->
  <!--  -->
  <form class="form" action="" onclick="formHandler(event)">FORM
    <!--  -->
    <div class="mt-3" onclick="alert('I am div')">DIV
      <!--  -->
      <button class="btn btn-primary ml-3">button</button>
    </div>
  </form>
  <hr>

  <!-- 
  Event delegation(代表)：透過在事件可能發生的元素群體之上，選取一個 ancestor 作為代表，
  利用 event bubbling 特性，來捕捉子代元素的事件，統一一個 event handler 來處理。 
  -->
  <ol id="list">
    <li data-num="1"><em>1</em></li>
    <li data-num="2"><em>2</em></li>
    <li data-num="3"><em>3</em></li>
    <li data-num="4"><em>4</em></li>
  </ol>
  <hr>

  <!-- 
    Behavior pattern: 利用event delegation的機制，幫element增加"行為"。
   -->
  <div class="behavior">
    <div class="behavior-child-1 mb-2">
      Counter(apple): <input class="behavior-child-btn1" type="button" value="1" data-counter>
    </div>
    <div class="behavior-child-2">
      Counter(orange): <input class="behavior-child-btn2" type="button" value="1">
    </div>
  </div>
  <hr>

  <!-- Event dispatch -->
  <form id="form-event-dispatch">
    <div class="">
      <button id="btn1" onclick=""> Choice A </button>
      <button id="btn2" onclick=""> Choice B </button>
    </div>
  </form>

  <script src="./main.js"></script>
</body>

</html>